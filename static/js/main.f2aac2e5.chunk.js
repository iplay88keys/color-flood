(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(29)},27:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),i=n.n(o),c=n(5),s=n(4),l="SQUARE_CLICKED",u="CREATE_BOARD",d=n(2),m=10,f=10,h=800,g=function(e,t,n,a){var r=[0,1,0,-1],o=[-1,0,1,0];return function t(i){var c,s=v(i);if(n!==a&&e[i].color===n)for(e[i].color=a,c=0;c<4;c++){var l=p(s.x+r[c],s.y+o[c]);l>=0&&l<f*m&&t(l)}}(t),e},v=function(e){return e<0||e>m*f?{x:-1,y:-1}:{x:e%f,y:Math.floor(e/f)}},p=function(e,t){return e<0||t<0?-1:e+m*t};var E=function(e){var t,n,a=[],r=h/m,o=["blue","red","green","yellow","orange","pink","purple"];for(t=0;t<f;t++)for(n=0;n<m;n++){var i=o[Math.floor(Math.random()*o.length)];a.push({x:n*r,y:t*r,width:r,height:r,color:i,position:p(n,t)})}return{gameState:Object(d.a)({},e,{squares:a})}};var w=function(e,t){if(e.gameState.currentCount===e.gameState.maxMoves)return Object(d.a)({},e);var n=e.gameState.squares,a=e.gameState.currentCount,r=n[0].color,o=n[t].color;return r!==o&&(n=g(n,0,r,o),a+=1),Object(d.a)({},e,{gameState:Object(d.a)({},e.gameState,{squares:n,currentCount:a})})},b={squares:[],currentCount:0,maxMoves:25},k={gameState:b};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return w(e,t.position);case u:return E(b);default:return e}};n(27);var S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var C=n(13),x=n(14),O=n(16),R=n(15),N=n(17),_=n(1),j=n.n(_),B=function(e){return r.a.createElement(r.a.Fragment,null,e.gameState.squares.map(function(t,n){return r.a.createElement("rect",{x:t.x,y:t.y,width:t.width,height:t.height,fill:t.color,stroke:t.color,onClick:function(){return e.squareClicked(t.position)},id:"square-"+n,key:"square-"+n})}))},W=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:0,x2:800,y1:2,y2:2,stroke:"black",strokeWidth:5,id:"top"}),r.a.createElement("line",{x1:0,x2:800,y1:h-2,y2:h-2,stroke:"black",strokeWidth:5,id:"bottom"}),r.a.createElement("line",{x1:2,x2:2,y1:0,y2:h,stroke:"black",strokeWidth:5,id:"left"}),r.a.createElement("line",{x1:798,x2:798,y1:0,y2:h,stroke:"black",strokeWidth:5,id:"right"}))};B.propTypes={gameState:j.a.shape({squares:j.a.arrayOf(j.a.shape({x:j.a.number.isRequired,y:j.a.number.isRequired,width:j.a.number.isRequired,height:j.a.number.isRequired,color:j.a.string.isRequired,position:j.a.number.isRequired})).isRequired}).isRequired,squareClicked:j.a.func.isRequired};var M=function(e){var t=[0,0,800,h];return r.a.createElement("svg",{id:"color-flood-canvas",preserveAspectRatio:"xMidYMid meet",height:"100%",width:"100%",viewBox:t},r.a.createElement(B,{gameState:e.gameState,squareClicked:e.squareClicked}),r.a.createElement(W,null))},A=function(e){return r.a.createElement("div",{id:"newGame"},r.a.createElement("button",{onMouseUp:function(){e.createBoard()}},"New Game"))},T=function(e){return r.a.createElement("div",{id:"currentCount"},r.a.createElement("div",null,e.gameState.currentCount+"/"+e.gameState.maxMoves))},D=function(e){function t(){return Object(C.a)(this,t),Object(O.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("color-flood-canvas");e.style.width="".concat(e.style.height,"px"),this.props.createBoard()}},{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement("div",{id:"content"},r.a.createElement("div",{className:"gridContainer"},r.a.createElement("div",{className:"title"},"Color Flood"),r.a.createElement("div",{className:"informationContainer"},r.a.createElement("div",{className:"informationLeft"},r.a.createElement(A,{createBoard:this.props.createBoard})),r.a.createElement("div",{className:"informationRight"},r.a.createElement(T,{gameState:this.props.gameState}))),r.a.createElement("div",{className:"game"},r.a.createElement(M,{gameState:this.props.gameState,squareClicked:this.props.squareClicked,createBoard:this.props.createBoard})),r.a.createElement("div",{className:"settings"}))))}}]),t}(a.Component),U=Object(c.b)(function(e){return{gameState:e.gameState}},function(e){return{squareClicked:function(t){e(function(e){return{type:l,position:e}}(t))},createBoard:function(){e({type:u})}}})(D);i.a.render(r.a.createElement(c.a,{store:Object(s.b)(y,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(U,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/color-flood",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/color-flood","/service-worker.js");S?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):q(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):q(t,e)})}}()}},[[18,2,1]]]);
//# sourceMappingURL=main.f2aac2e5.chunk.js.map